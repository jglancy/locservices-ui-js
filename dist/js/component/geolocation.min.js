define(["jquery","locservices/ui/component/component","locservices/core/geolocation","locservices/core/api"],function(a,b,c,d){function e(a,b){return function(){return a.apply(b,arguments)}}function f(a){a=a||{},a.component="geolocation";var b=this;this.setComponentOptions(a),this.container.append(g.replace("{text}","Use my current location")),this._button=this.container.find("button"),this._api=new d,this._button.on("click",function(a){a.preventDefault(),c.getCurrentPosition(e(b.onSuccess,b),e(b.onError,b))})}var g='<button type="button" class="locservices-ui-component locservices-ui-component-geolocation">{text}</button>';return f.prototype=new b,f.prototype.onSuccess=function(a){this._api.reverseGeocode(a.coords.latitude,a.coords.longitude,{success:function(){},error:this.onError})},f.prototype.onError=function(){a.emit(this.eventNamespace+"error")},f});