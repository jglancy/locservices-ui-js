define(["jquery","locservices/ui/component/component"],function(a,b){"use strict";function c(a){var b=this;if(a=a||{},a.componentId="search",void 0===a.api)throw new Error("Search requires api parameter");b.api=a.api,b.setComponentOptions(a),b.input=b.container.find(a.selector||"#ls-search-input"),b.container.on("submit",function(a){a.preventDefault(),b.search(b.input.val())})}return c.prototype=new b,c.prototype.constructor=c,c.prototype.search=function(b,c){var d={};a.emit(this.eventNamespace+":start",[b]),this.api.search(b,{params:d,success:function(d){a.emit(this.eventNamespace+":end"),d.metadata.startOffset=c,d.metadata.searchTerm=b,a.emit(this.eventNamespace+":results",[d.results,d.metadata])},error:function(){a.emit(this.eventNamespace+":end"),a.emit(this.eventNamespace+":error",['Error searching for "'+b+'"'])}})},c});