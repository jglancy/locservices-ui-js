!function(a,b){return"function"==typeof define&&define.amd?define(b):(a.locator=a.locator||{},locator.ui=locator.ui||{},locator.ui.search=b(),void 0)}(this,function(){"use strict";function a(a){var b=this;this.api=a.api,this.$=a.$,this.element=this.$("#ls-search-form"),this.input=this.element.find("#ls-search-input"),this.$("#ls-search-form").on("submit",function(a){a.preventDefault(),b.search(b.input.val())})}return a.prototype.search=function(a,b){var c={filter:"domestic"};b?c.start=b:b=0,this.$.emit("locservices:search:start",[a]),this.api.search(a,{params:c,success:function(c){this.$.emit("locservices:search:end"),c.metadata.startOffset=b,c.metadata.searchTerm=a,this.$.emit("locservices:search:results",[c.results,c.metadata])},error:function(){this.$.emit("locservices:search:end"),this.$.emit("locservices:error",['Error searching for "'+a+'"'])}})},a});