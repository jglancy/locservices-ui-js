define(["jquery","locservices/ui/component/component"],function(a,b){function c(b){if(b=b||{},b.componentId="autocomplete",this._inputDelay=b.inputDelay||120,this._minChars=b.minChar||2,!b.element instanceof a)throw new Error("AutoComplete requires an element option");if(this.input=b.element,this.input.attr("autocomplete","off"),!b.api)throw new Error("AutoComplete requires an api option");b.container=a("body"),this.setComponentOptions(b),a(document).on("keydown",function(a){switch(a.keyCode){case d.escape:this.escapeKeyHandler();break;case d.enter:this.enterKeyHandler(a);break;case d.upArrow:a.preventDefault(),this.highlightPrevSearchResult();break;case d.downArrow:this.highlightNextSearchResult()}})}var d={enter:13,escape:27,upArrow:38,downArrow:40};return c.prototype=new b,c.prototype.constructor=c,c.prototype.escapeKeyHandler=function(){null!==this.highlightedSearchResultIndex&&this.$input.val(this.currentSearchTerm),this.clearSearchResults()},c.prototype.enterKeyHandler=function(a){null!==this.highlightedSearchResultIndex&&(a.preventDefault(),this.submitSearchResultByIndex(this.highlightedSearchResultIndex)),this.clearInputChangedTimeout(),this.clearSearchResults()},c.prototype.highlightNextSearchResult=function(){var a;if(a=this.highlightedSearchResultIndex,null===a)a=0;else if(a++,this.searchResultsData.results.length<=a)return void this.removeSearchResultHighlight(!0);this.highlightSearchResultByIndex(a,!0)},c.prototype.highlightPrevSearchResult=function(){var a;if(a=this.highlightedSearchResultIndex,null===a)a=this.searchResultsData.results.length-1;else if(a--,0>a)return void this.removeSearchResultHighlight(!0);this.highlightSearchResultByIndex(a,!0)},c.prototype.clearResults=function(){this.container.html("")},c});